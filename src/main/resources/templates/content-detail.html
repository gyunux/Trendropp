<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
>
<head>
    <meta charset="UTF-8">
    <title th:text="${content.title} + ' - ' + ${@environment.getProperty('site.name')}"></title>
    <link rel="stylesheet" th:href="@{/css/index.css}">
    <link rel="stylesheet" th:href="@{/css/auth-style.css}">
    <link rel="stylesheet" th:href="@{/css/content-detail-page.css}">
</head>
<body>

<div th:replace="~{common/layout :: sidebar}"></div>

<main class="main-content" th:attr="data-content-id=${content.id}">
    <div class="page-container">

        <div th:replace="~{common/header :: header(pageTitle=${content.title})}"></div>

        <div class="detail-header-meta">
            <div class="celeb-profile">
                <img th:src="${content.celeb.profileImageUrl}" th:alt="${content.celeb.name}" class="celeb-avatar">
                <span class="celeb-name" th:text="${content.celeb.name}">셀럽 이름</span>
            </div>
            <div class="metadata">
                <span class="source-type" th:text="#{${'SourceType.' + content.sourceType.name()}}">출처 종류</span>
                <span class="source-date" th:if="${content.sourceDate}"
                      th:text="${#temporals.format(content.sourceDate, 'yyyy.MM.dd')}">2025.10.07</span>
                <span class="view-count">
                    <i class="icon-eye"></i>
                    <span th:text="${content.viewCount}">1234</span>
                </span>
                <a th:if="${content.sourceUrl != null and not #strings.isEmpty(content.sourceUrl)}"
                   th:href="${content.sourceUrl}"
                   target="_blank"
                   class="btn-outline">
                    원문보기 <i class="icon-external-link"></i>
                </a>
            </div>
        </div>

        <div class="detail-body">
            <div class="image-section">
                <img th:src="${content.originImageUrl}" th:alt="${content.title}" class="main-content-image">

                <button th:classappend="${content.isLiked} ? 'active' : ''"
                        th:attr="data-content-id=${content.id}"
                        class="like-button">
                    <i class="icon-heart"></i>
                </button>
            </div>

            <div class="items-section">
                <h2 th:text="#{detail.items.title}">착용 아이템</h2>
                <ul class="item-list">
                    <li th:each="item : ${content.items}" class="item-card">
                        <img th:src="${item.imageUrl}" th:alt="${item.name}" class="item-image">
                        <div class="item-info">
                            <p class="item-brand" th:text="${item.brand.englishName}">Brand</p>
                            <p class="item-name" th:text="${item.name}">Item Name</p>
                        </div>
                        <a th:href="${item.productUrl}" target="_blank" class="btn-purchase"
                           th:text="#{detail.purchaseButton}">구매하러 가기</a>
                    </li>
                </ul>
            </div>
        </div>

        <div th:if="${content.summary != null and not #strings.isEmpty(content.summary)}" class="content-summary">
            <p th:text="${content.summary}"></p>
        </div>

    </div>
</main>

<div th:replace="~{common/header :: auth-modals}"></div>
<script th:src="@{/js/auth.js}"></script>
<script th:src="@{/js/view-counter.js}"></script>
</body>
</html>