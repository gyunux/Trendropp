<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>계정 설정 - TrenDropp</title>
    <link rel="stylesheet" th:href="@{/css/index.css}">
    <link rel="stylesheet" th:href="@{/css/auth-style.css}">
    <link rel="stylesheet" th:href="@{/css/mypage.css}">
</head>
<body>

<div th:replace="~{common/layout :: sidebar}"></div>

<main class="main-content">
    <div class="detail-page-container">

        <div th:replace="~{common/header :: header(pageTitle='마이페이지')}"></div>

        <nav class="mypage-tabs">
            <a th:href="@{/mypage}" class="active">계정 설정</a>
        </nav>

        <div class="mypage-forms-container">

            <div class="content-body">
                <h2>계정 정보</h2>
                <div class="form-group">
                    <label>아이디</label>
                    <input type="text" th:value="${member.userId}" readonly class="form-input">
                </div>
                <div class="form-group">
                    <label>이름</label>
                    <input type="text" th:value="${member.name}" readonly class="form-input">
                </div>
            </div>

            <div class="content-body">
                <form id="email-change-form">
                    <h2>이메일 변경</h2>
                    <p class="current-info">현재 이메일: <span th:text="${member.email}"></span></p>
                    <div class="form-group">
                        <label for="new-email">새 이메일</label>
                        <input type="email" id="new-email" class="form-input" required>
                        <small id="email-helper" class="form-helper"></small>
                    </div>
                    <div class="form-group">
                        <label for="email-current-password">현재 비밀번호 (확인용)</label>
                        <input type="password" id="email-current-password" class="form-input" required>
                    </div>
                    <small id="email-form-error" class="form-helper error-message"></small>
                    <button type="submit" id="change-email-btn" class="btn btn-primary" style="margin-top: 1rem;">이메일
                        변경
                    </button>
                </form>
            </div>

            <div class="content-body">
                <form id="password-change-form">
                    <h2>비밀번호 변경</h2>
                    <div class="form-group">
                        <label for="current-password">현재 비밀번호</label>
                        <input type="password" id="current-password" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label for="new-password">새 비밀번호</label>
                        <input type="password" id="new-password" class="form-input" required>
                        <small id="password-helper" class="form-helper">6자 이상, 소문자와 숫자 필수</small>
                    </div>
                    <div class="form-group">
                        <label for="new-password-confirm">새 비밀번호 확인</label>
                        <input type="password" id="new-password-confirm" class="form-input" required>
                        <small id="password-confirm-helper" class="form-helper"></small>
                    </div>
                    <small id="password-form-error" class="form-helper error-message"></small>
                    <button type="submit" id="change-password-btn" class="btn btn-primary" style="margin-top: 1rem;">
                        비밀번호 변경
                    </button>
                </form>
            </div>

            <div class="content-body danger-zone">
                <h2>회원 탈퇴</h2>
                <button id="deactivate-btn" class="btn btn-danger">계정 삭제</button>
            </div>
        </div>

    </div>
</main>

<div th:replace="~{common/header :: auth-modals}"></div>
<script th:src="@{/js/auth.js}"></script>
<script th:src="@{/js/mypage.js}"></script>

</body>
</html>